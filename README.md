# P6-EIT-AAU-SIGNAL-PROCESSING
## A project about Active Noise Cancellation

This project aims to implement an adaptive algorithm to cancel environmental noise. The algorithm used in this project is called Filtered-X Normalized Least Mean Square. The *Filtered* component refers to an estimate of the propagation path when the signal travels through the tube.

To test the algorithm, a prototype model is constructed. The model consists of using a tube as an analogue to headphones with two additional microphones, two speakers, an amplifier, a soundcard and a noise source.

## DSP implementation

This project is written in ASM.
The file main.S calls in all the active files.
The program runs in a dsPIC33CH512MP508 board made by Microchip and can be programmed using their IDE called "MPLAB X IDE".
The system samples at 8kHz.

An IIR filter is implemented to make the estimate of the sound path. The filter coefficients are found using LPC (Linear Predictive Coding). 
A FIR filter is implemented for the adaptive LMS (Least Mean Square) algorithm.

White noise is played through the speaker into the tube and the signal is captured by the first microphone. A second speaker plays the anti-noise generated by the adaptive algorithm and cancells the white noise played by the first speaker. The error between the two signals is captured by a second microphone placed at the end of the tube. This error signal will be the input for the LMS algorithm as well as the white noise signal

To run the code a DAC board and input to ADC board are needed. 